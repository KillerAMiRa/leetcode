<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <!-- 模板解析--解析标签---解析文本 -->
    <script>
      const ncname = '[a-zA-Z_][\\w\\-\\.]*'
      const qnameCapture = `((?:${ncname}\\:)?${ncname})`
      const startTagOpen = new RegExp(`^<${qnameCapture}`)
      const startTagClose = /^\s*(\/?)>/
      let html = `<div></div>`
      let index = 0
      const start = html.match(startTagOpen)

      const match = {
        tagName: start[1],
        attrs: [],
        start: 0
      }
      html = html.substring(start[0].length)
      index += start[0].length
      let end, attr
      while (
        !(end = html.match(startTagClose)) &&
        (attr = html.match(attribute))
      ) {
        html = html.substring(attr[0].length)
        index += attr[0].length
        match.attrs.push(attr)
      }
      if (end) {
        match.unarySlash = end[1]
        html = html.substring(end[0].length)
        index += end[0].length
        match.end = index
      }
      console.log(match)
    </script>

    <!-- proxy -->
    <script>

    </script>
  </body>
</html>
